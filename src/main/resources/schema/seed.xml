<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">
    <changeSet id="seeding0001" author="daanschouten">
        <sql splitStatements="false">
            create table AIRCRAFT (
            aircraft_id varchar(255) not null,
            model varchar(255),
            primary key (aircraft_id)
            );

            create table AIRPORT (
            iata_id varchar(255) not null,
            country varchar(255) not null,
            latitude double not null,
            longitude double not null,
            name varchar(255),
            primary key (iata_id)
            );

            create table CARRIER (
            carrier_id varchar(255) not null,
            name varchar(255) not null,
            primary key (carrier_id)
            );

            create table FLIGHT (
            flight_id bigint generated by default as identity,
            actual_arrival timestamp,
            actual_departure timestamp,
            flight_number varchar(255),
            scheduled_arrival timestamp,
            scheduled_departure timestamp,
            runway_actual_arrival varchar(255),
            aircraft_id varchar(255),
            carrier varchar(255),
            runway_departure varchar(255),
            operator varchar(255),
            runway_scheduled_arrival varchar(255),
            primary key (flight_id)
            );

            create table people (
            id bigint generated by default as identity,
            fullName varchar(255) not null,
            jobTitle varchar(255) not null,
            primary key (id)
            );

            create table RUNWAY (
            runway_id varchar(255) not null,
            airport_id varchar(255),
            primary key (runway_id)
            );

            alter table FLIGHT
            add constraint FKj0lxn84puvqo7tq5tq3r4281c
            foreign key (runway_actual_arrival)
            references RUNWAY;

            alter table FLIGHT
            add constraint FKe5wmmgbp4yrp4r9n3jhjr6lhl
            foreign key (aircraft_id)
            references AIRCRAFT;

            alter table FLIGHT
            add constraint FKt9latawsy1ipguh2e1p8rox2v
            foreign key (carrier)
            references CARRIER;

            alter table FLIGHT
            add constraint FKgy97mw12k2v8fo80qaxai7w6g
            foreign key (runway_departure)
            references RUNWAY;

            alter table FLIGHT
            add constraint FKmu1shuighiugdjpmla7ju8b6w
            foreign key (operator)
            references CARRIER;

            alter table FLIGHT
            add constraint FK4k4hyb8h3ro5x6mn7gdlgtjcw
            foreign key (runway_scheduled_arrival)
            references RUNWAY;

            alter table RUNWAY
            add constraint FKosimhbe50vvt97ihh6pochfsp
            foreign key (airport_id)
            references AIRPORT;

        </sql>
    </changeSet>
</databaseChangeLog>
